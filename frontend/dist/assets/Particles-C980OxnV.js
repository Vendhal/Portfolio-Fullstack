import{r as N,j as mt}from"./index-D58QJMBE.js";function gt({seed:q,theme:O="default",speed:v=1,density:F=1,blackHoles:H=1,shooters:U=!0,enabled:D=!0}){const J=N.useRef(null),X=N.useRef(0);return N.useEffect(()=>{const m=J.current,o=m.getContext("2d");let s=0,r=0,Y=Math.max(1,window.devicePixelRatio||1);const b={x:null,y:null,active:!1},E=[];let S=[],_=[],K=[],Q=[];const L=[];let V=performance.now();const Z=()=>{s=window.innerWidth,r=window.innerHeight,m.width=Math.floor(s*Y),m.height=Math.floor(r*Y),m.style.width=s+"px",m.style.height=r+"px",o.setTransform(Y,0,0,Y,0,0);const c=o.createLinearGradient(0,0,0,r);c.addColorStop(0,"#05070d"),c.addColorStop(.5,"#0b1323"),c.addColorStop(1,"#05070d"),o.fillStyle=c,o.fillRect(0,0,s,r)};let j=Math.random;if(q){let c=0;for(let l=0;l<String(q).length;l++)c=Math.imul(31,c)+String(q).charCodeAt(l)|0;let e=c>>>0;j=()=>{e|=0,e=e+1831565813|0;let l=Math.imul(e^e>>>15,1|e);return l^=l+Math.imul(l^l>>>7,61|l),((l^l>>>14)>>>0)/4294967296}}const a=(c,e)=>j()*(e-c)+c,A=c=>c[Math.floor(j()*c.length)],tt=()=>{const c=s*r,e=Math.max(3,Math.min(7,Math.round(c/(45e4/F)))),l=s*.15,d=r*.2;S=new Array(e).fill(0).map((g,R)=>{const M=a(l,s-l),p=a(d,r-d),I=a(Math.min(s,r)*.22,Math.min(s,r)*.4),C=A([a(.005,.014),-a(.005,.014)])*v,$=A([2,3,4]),G=a(.015,.035),T=a(.6,1);let z;switch(O){case"cool":z=[a(200,235),a(225,255),a(260,290)];break;case"warm":z=[a(15,35),a(35,55),a(280,300)];break;case"neon":z=[a(290,320),a(170,200),a(200,230)];break;default:z=[a(205,235),a(220,245),a(30,45)]}const st={hues:z,bias:"stellar"},rt=a(-.1,.1)*v,ct=a(-.06,.06)*v,it=M,lt=p,ht=a(40,120),xt=a(30,90),dt=a(.05,.12)*v,yt=a(0,Math.PI*2),ft=a(0,Math.PI*2);return{cx:M,cy:p,maxR:I,spin:C,arms:$,tight:G,coreGlow:T,palette:st,vx:rt,vy:ct,bx:it,by:lt,ampX:ht,ampY:xt,ws:dt,phx:yt,phy:ft}});const W=Math.max(3,Math.round(S.length*.4*H));_=new Array(W).fill(0).map(()=>{const g=a(s*.2,s*.8),R=a(r*.25,r*.75),M=a(2500,7e3)*H,p=a(18,34),I=p*16,C=a(-.06,.06)*Math.max(.5,v*.8),$=a(-.04,.04)*Math.max(.5,v*.8);return{x:g,y:R,mass:M,horizon:p,influence:I,vx:C,vy:$}});const t=a(3,7)|0;K=new Array(t).fill(0).map(()=>{const g=a(-s*.2,s*1.2),R=a(-r*.2,r*1.2),M=a(Math.min(s,r)*.2,Math.min(s,r)*.45),p=A([a(200,225),a(225,245),a(190,205)]),I=a(20,45),C=a(30,50),$=a(.025,.05),G=a(-.02,.02),T=a(-.01,.01);return{x:g,y:R,r:M,hue:p,sat:I,light:C,alpha:$,vx:G,vy:T}});const n=20,h=-s*.2,y=r*.2,x=s*1.2,f=r*.8,P=x-h,i=f-y,u=Math.hypot(P,i)||1,w=P/u,k=i/u;Q=new Array(n).fill(0).map((g,R)=>{const M=R/(n-1),p=h+(x-h)*M+a(-40,40),I=y+(f-y)*M+a(-30,30),C=a(120,240),$=a(40,90),G=Math.atan2(f-y,x-h)+a(-.1,.1),T=a(.015,.04),z=a(.25,.6);return{x:p,y:I,rx:C,ry:$,rot:G,alpha:T,ux:w,uy:k,speed:z}})},at=()=>{E.length=0;const c=Math.floor(s*r/(9e3/F)),e=Math.max(300,Math.min(900,c));for(let l=0;l<e;l++){const d=A(S),t=(Math.random()*d.arms|0)*(Math.PI*2/d.arms),n=Math.max(12,Math.pow(Math.random(),.45)*d.maxR),h=t+n*d.tight+a(-.25,.25),y=d.spin+a(-.003,.003),x=a(-.02,.02)*v,f=A(d.palette.hues),P=Math.random()<.6,i=P?a(78,96):a(55,72),u=P?a(8,25):a(10,30),w=P?a(1.2,2.2):a(.6,1.4),k=a(.8,3.5),g=a(0,Math.PI*2);E.push({angle:h,radius:n,av:y,rv:x,r:w,hue:f,sat:u,light:i,twSpeed:k,twPhase:g,gIndex:S.indexOf(d)})}},nt=c=>{const e=m.getBoundingClientRect();b.x=c.clientX-e.left,b.y=c.clientY-e.top,b.active=!0},ot=()=>{b.active=!1},B=c=>{if(!D){o.clearRect(0,0,s,r),X.current=requestAnimationFrame(B);return}const e=Math.min(3,(c-V)/16.67);V=c,o.fillStyle="rgba(5,7,13,0.08)",o.fillRect(0,0,s,r);const l=c*.001;for(const t of S)t.bx+=t.vx*e,t.by+=t.vy*e,t.bx<-t.maxR&&(t.bx=s+t.maxR),t.bx>s+t.maxR&&(t.bx=-t.maxR),t.by<-t.maxR&&(t.by=r+t.maxR),t.by>r+t.maxR&&(t.by=-t.maxR),t.cx=t.bx+Math.cos(l*t.ws+t.phx)*t.ampX,t.cy=t.by+Math.sin(l*t.ws*.85+t.phy)*t.ampY;for(const t of Q){t.x+=t.ux*t.speed*e,t.y+=t.uy*t.speed*e,(t.x<-s*.4||t.y<-r*.4||t.x>s*1.4||t.y>r*1.4)&&(t.x-=t.ux*(s*1.6),t.y-=t.uy*(r*1.2)),o.save(),o.translate(t.x,t.y),o.rotate(t.rot),o.scale(1,t.ry/t.rx);const n=o.createRadialGradient(0,0,0,0,0,t.rx);n.addColorStop(0,`rgba(255,255,255,${t.alpha})`),n.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=n,o.beginPath(),o.arc(0,0,t.rx,0,Math.PI*2),o.fill(),o.restore()}for(const t of K){t.x+=t.vx*e,t.y+=t.vy*e,t.x<-t.r&&(t.x=s+t.r),t.x>s+t.r&&(t.x=-t.r),t.y<-t.r&&(t.y=r+t.r),t.y>r+t.r&&(t.y=-t.r);const n=o.createRadialGradient(t.x,t.y,0,t.x,t.y,t.r);n.addColorStop(0,`hsla(${t.hue} ${t.sat}% ${t.light}% / ${t.alpha})`),n.addColorStop(.6,`hsla(${t.hue} ${t.sat}% ${Math.max(10,t.light-10)}% / ${t.alpha*.5})`),n.addColorStop(1,"rgba(0,0,0,0)"),o.fillStyle=n,o.beginPath(),o.arc(t.x,t.y,t.r,0,Math.PI*2),o.fill()}for(const t of S){const n=o.createRadialGradient(t.cx,t.cy,0,t.cx,t.cy,t.maxR*.5);n.addColorStop(0,`rgba(255,255,245,${.12*t.coreGlow})`),n.addColorStop(1,"rgba(255,255,245,0)"),o.fillStyle=n,o.beginPath(),o.arc(t.cx,t.cy,t.maxR*.5,0,Math.PI*2),o.fill()}const d=new Array(E.length);for(let t=0;t<E.length;t++){const n=E[t],h=S[n.gIndex];n.angle+=n.av*e,n.radius+=n.rv*e,n.radius<16&&(n.radius=16,n.rv*=-1),n.radius>h.maxR&&(n.radius=h.maxR,n.rv*=-1);const y=n.angle+n.radius*h.tight;let x=h.cx+Math.cos(y)*n.radius,f=h.cy+Math.sin(y)*n.radius;for(const i of _){i.x+=i.vx*e,i.y+=i.vy*e,i.x<-50&&(i.x=s+50),i.x>s+50&&(i.x=-50),i.y<-50&&(i.y=r+50),i.y>r+50&&(i.y=-50);const u=i.x-x,w=i.y-f,k=u*u+w*w,g=Math.sqrt(k);if(g<i.influence){const R=i.mass/(k+200)*e;n.radius-=R*4,n.av+=(u*-Math.sin(n.angle)+w*Math.cos(n.angle))*1e-5*e}g<i.horizon&&(n.radius=a(i.horizon+60,h.maxR),n.angle=a(0,Math.PI*2),n.av*=A([1,-1]))}if(b.active&&b.x!=null){const i=b.x-x,u=b.y-f;x+=i*.015*e,f+=u*.015*e}d[t]={x,y:f};const P=.5+.5*Math.sin(c*.001*n.twSpeed+n.twPhase);o.beginPath(),o.arc(x,f,n.r,0,Math.PI*2),o.fillStyle=`hsla(${n.hue} ${n.sat}% ${n.light}% / ${P})`,o.fill()}const W=c*.001;for(const t of _){const n=o.createRadialGradient(t.x,t.y,0,t.x,t.y,t.horizon*2.5);n.addColorStop(0,"rgba(0,0,0,1)"),n.addColorStop(.7,"rgba(0,0,0,0.7)"),n.addColorStop(1,"rgba(0,0,0,0)"),o.fillStyle=n,o.beginPath(),o.arc(t.x,t.y,t.horizon*2.2,0,Math.PI*2),o.fill(),o.save(),o.translate(t.x,t.y),o.rotate(W*.6),o.strokeStyle="rgba(240, 200, 150, 0.28)",o.lineWidth=3,o.beginPath(),o.arc(0,0,t.horizon*2.8,Math.PI*.15,Math.PI*.55),o.stroke(),o.rotate(Math.PI),o.beginPath(),o.arc(0,0,t.horizon*2.8,Math.PI*.15,Math.PI*.45),o.stroke(),o.restore()}if(U&&j()<.04*e&&L.length<4){const t=Math.random()<.5,n=t?a(-50,s*.3):a(s*.7,s+50),h=a(-50,r*.25),y=a(6,12)*v,x=t?a(Math.PI*.1,Math.PI*.25):a(Math.PI*.75,Math.PI*.9);L.push({x:n,y:h,vx:Math.cos(x)*y,vy:Math.sin(x)*y,life:a(24,48)})}for(let t=L.length-1;t>=0;t--){const n=L[t];n.x+=n.vx*e,n.y+=n.vy*e,n.life-=e;const h=20;o.strokeStyle="rgba(255,255,255,0.7)",o.lineWidth=2,o.beginPath(),o.moveTo(n.x,n.y),o.lineTo(n.x-n.vx*h*.1,n.y-n.vy*h*.1),o.stroke(),(n.life<=0||n.x<-100||n.x>s+100||n.y>r+100)&&L.splice(t,1)}X.current=requestAnimationFrame(B)},et=()=>{Z(),tt(),at()};return Z(),tt(),at(),m.addEventListener("mousemove",nt),m.addEventListener("mouseleave",ot),window.addEventListener("resize",et),X.current=requestAnimationFrame(B),()=>{cancelAnimationFrame(X.current),window.removeEventListener("resize",et),m.removeEventListener("mousemove",nt),m.removeEventListener("mouseleave",ot)}},[q,O,v,F,H,U,D]),mt.jsx("canvas",{ref:J,className:"bg-canvas","aria-hidden":!0})}export{gt as default};
